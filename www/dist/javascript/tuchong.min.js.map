{"version":3,"file":"www/dist/javascript/tuchong.min.js","sources":["src/javascript/app.js","src/javascript/ui.js","src/javascript/services/store.js","src/javascript/services/share.js","src/javascript/services/imageloader.js","src/javascript/controllers/home.js","src/javascript/controllers/collection.js"],"names":["angular","debug","init","$ionicPlatform","$cordovaDevice","$cordovaNetwork","$cordovaPush","$timeout","avoscloud","$cordovaDialogs","$ionicSlideBoxDelegate","$rootScope","$state","authPushService","device","callback","pushSignupError","err","log","alert","options","badge","sound","register","then","token","installation","deviceType","platform","toLowerCase","deviceToken","installationId","forEach","item","pushNotificationReceived","event","notification","collectionId","go","id","stateChangeSuccess","e","toState","toParams","fromState","name","isGoBackHome","isGoToCollection","isBackToCollection","gotoIndex","localStorage","lastSlideIndexHome","lastSlideIndexCollection","parseInt","slide","removeItem","$on","ready","getDevice","newtork","getNetwork","syncInstallationSuccess","result","syncError","installations","post","config","$httpProvider","$stateProvider","$urlRouterProvider","avoscloudProvider","API_TOKEN","API_TOKEN_KEY","appConfigs","defaults","useXDomain","headers","common","state","url","templateUrl","controller","otherwise","Error","module","constant","API_SERVER","run","window","ctrlerUI","$ionicLoading","$ionicPopup","this","loading","show","msg","otps","template","hide","obj","confirm","popup","service","store","$resource","TC_SERVER","self","tuchong","apiMap","hot","tuchongApiMap","extraMethods","method","update","put","cache","endpoint","key","save","k","value","findById","collections","postId","$ionicActionSheet","showPopup","image","buttonClicked","index","Wechat","title","thumbnail","description","site","excerpt","author","share","message","thumb","uri_grid","media","type","Type","WEBPAGE","webpageUrl","scene","sheet","buttons","push","text","titleText","cancelText","imageLoader","UI","loadCache","loadBackground","scope","loadDone","backgrounds","$apply","slidesReady","cacheKey","loadError","undefined","isNaN","images","uri","loadImage","onerror","img","Image","onload","src","load","home","Store","fetchFresh","success","data","length","setup","fail","get","fresh","lastIndex","inValid","copy","splice","updateSlides","imagesLength","isValidCollection","collection","$stateParams","$ionicSideMenuDelegate","toggle","side","viewLarge","single"],"mappings":"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"}