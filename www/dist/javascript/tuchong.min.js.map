{"version":3,"file":"www/dist/javascript/tuchong.min.js","sources":["src/javascript/app.js","src/javascript/ui.js","src/javascript/services/store.js","src/javascript/services/share.js","src/javascript/services/imageloader.js","src/javascript/controllers/home.js","src/javascript/controllers/collection.js"],"names":["angular","debug","init","$ionicPlatform","$cordovaDevice","$cordovaPush","$timeout","avoscloud","$cordovaDialogs","$ionicSlideBoxDelegate","$rootScope","authPushService","device","callback","pushSignupError","err","log","alert","options","badge","sound","register","then","token","installation","deviceType","platform","toLowerCase","deviceToken","installationId","stateChangeSuccess","e","toState","toParams","fromState","name","isGoBackHome","isGoToCollection","isBackToCollection","gotoIndex","localStorage","lastSlideIndexHome","lastSlideIndexCollection","parseInt","slide","removeItem","$on","ready","getDevice","syncInstallationSuccess","result","syncError","installations","post","config","$httpProvider","$stateProvider","$urlRouterProvider","avoscloudProvider","API_TOKEN","API_TOKEN_KEY","appConfigs","defaults","useXDomain","headers","common","state","url","templateUrl","controller","otherwise","Error","module","constant","API_SERVER","run","window","ctrlerUI","$ionicLoading","$ionicPopup","this","loading","show","msg","otps","template","hide","obj","confirm","popup","service","store","$resource","TC_SERVER","self","tuchong","apiMap","hot","tuchongApiMap","extraMethods","method","update","put","cache","forEach","endpoint","key","save","k","value","findById","id","collections","item","postId","$ionicActionSheet","showPopup","image","buttonClicked","index","Wechat","title","thumbnail","description","site","excerpt","author","share","message","thumb","uri_grid","media","type","Type","WEBPAGE","webpageUrl","scene","sheet","buttons","push","text","titleText","cancelText","imageLoader","UI","loadCache","loadBackground","scope","loadDone","backgrounds","$apply","slidesReady","cacheKey","loadError","undefined","isNaN","images","uri","loadImage","onerror","img","Image","onload","src","load","home","$state","Store","pushNotificationReceived","event","notification","collectionId","go","fetchFresh","success","data","length","setup","fail","get","fresh","lastIndex","inValid","copy","splice","updateSlides","imagesLength","isValidCollection","collection","$stateParams","$ionicSideMenuDelegate","toggle","side","viewLarge","single"],"mappings":"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"}