{"version":3,"file":"www/dist/javascript/tuchong.min.js","sources":["src/javascript/app.js","src/javascript/ui.js","src/javascript/services/store.js","src/javascript/services/share.js","src/javascript/services/imageloader.js","src/javascript/controllers/home.js","src/javascript/controllers/collection.js"],"names":["angular","debug","init","$ionicPlatform","$cordovaDevice","$cordovaPush","$timeout","avoscloud","$cordovaDialogs","$ionicSlideBoxDelegate","$rootScope","authPushService","device","callback","pushSignupError","err","log","alert","options","badge","sound","register","then","token","installation","deviceType","platform","toLowerCase","deviceToken","installationId","stateChangeSuccess","e","toState","toParams","fromState","name","isGoBackHome","isGoToCollection","isBackToCollection","gotoIndex","localStorage","lastSlideIndexHome","lastSlideIndexCollection","parseInt","slide","removeItem","$on","ready","getDevice","syncInstallationSuccess","result","syncError","installations","post","window","StatusBar","styleDefault","config","$httpProvider","$stateProvider","$urlRouterProvider","avoscloudProvider","API_TOKEN","API_TOKEN_KEY","appConfigs","defaults","useXDomain","headers","common","state","url","templateUrl","controller","otherwise","Error","module","constant","API_SERVER","run","ctrlerUI","$ionicLoading","$ionicPopup","this","loading","show","msg","otps","template","hide","obj","confirm","popup","service","store","$resource","TC_SERVER","self","tuchong","apiMap","hot","tuchongApiMap","extraMethods","method","update","put","cache","forEach","endpoint","key","save","k","value","findById","id","collections","item","postId","$ionicActionSheet","showPopup","image","buttonClicked","index","Wechat","title","thumbnail","description","site","excerpt","author","share","message","thumb","uri_grid","media","type","Type","WEBPAGE","webpageUrl","scene","sheet","buttons","push","text","titleText","cancelText","imageLoader","UI","loadCache","loadBackground","scope","loadDone","backgrounds","$apply","slidesReady","cacheKey","loadError","undefined","isNaN","images","uri","loadImage","onerror","img","Image","onload","src","load","home","$state","Store","pushNotificationReceived","event","notification","collectionId","go","fetchFresh","success","data","length","setup","fail","get","fresh","lastIndex","inValid","copy","splice","updateSlides","imagesLength","isValidCollection","collection","$stateParams","$ionicSideMenuDelegate","toggle","side","viewLarge","single"],"mappings":"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"}