{"version":3,"file":"www/dist/javascript/tuchong.min.js","sources":["src/javascript/app.js","src/javascript/services/store.js","src/javascript/services/share.js","src/javascript/services/imageloader.js","src/javascript/controllers/home.js","src/javascript/controllers/collection.js"],"names":["window","init","$ionicPlatform","$cordovaDevice","$cordovaNetwork","$cordovaPush","$timeout","avoscloud","$cordovaDialogs","$rootScope","$state","authPushService","device","callback","pushSignupError","err","alert","options","badge","sound","register","then","token","installation","deviceType","platform","toLowerCase","deviceToken","installationId","angular","forEach","item","pushNotificationReceived","event","notification","collectionId","go","id","stateChangeSuccess","e","toState","toParams","fromState","console","log","name","isGoBackHome","isGoToCollection","isBackToCollection","gotoIndex","localStorage","lastSlideIndexHome","lastSlideIndexCollection","parseInt","removeItem","$on","ready","getDevice","newtork","getNetwork","syncInstallationSuccess","result","syncError","installations","post","config","$httpProvider","$stateProvider","$urlRouterProvider","avoscloudProvider","API_TOKEN","API_TOKEN_KEY","appConfigs","defaults","useXDomain","headers","common","state","url","templateUrl","controller","otherwise","module","constant","API_SERVER","template","run","this","store","$resource","TC_SERVER","self","tuchong","apiMap","hot","tuchongApiMap","extraMethods","method","update","put","cache","endpoint","key","save","k","value","findById","collections","postId","service","share","$ionicLoading","$ionicActionSheet","showPopup","image","buttonClicked","index","Wechat","title","thumbnail","description","site","excerpt","author","message","thumb","uri_grid","media","type","Type","WEBPAGE","webpageUrl","scene","sheet","titleText","cancelText","buttons","text","show","popup","imageLoader","load","uri","success","hide","img","blobURL","fail","proxy","realuri","replace","BlobImage","ismobile","element","onload","onerror","ImageLoader","navigator","userAgent","match","home","scope","Store","fetch","data","setup","get","slidesReady","images","length","loadImage","loadChildImage","setupChildrenSwiper","slides","Swiper","onSlideChangeStart","activeIndex","childrenSlides","ii","direction","backgrounds","localImage","$apply","parentIndex","Array","isArray","childrens","openZoom","zoomImage","hideOnStateChange","hideZoom","fetchBackground","makeCssUri","str","collection","$ionicSlideBoxDelegate","$stateParams","$ionicSideMenuDelegate","fresh","lastIndex","inValid","copy","splice","updateSlides","push","toggle","side","viewLarge","loadCache","single"],"mappings":"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"}