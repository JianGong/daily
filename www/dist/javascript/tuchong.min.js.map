{"version":3,"file":"www/dist/javascript/tuchong.min.js","sources":["src/javascript/app.js","src/javascript/ui.js","src/javascript/services/store.js","src/javascript/services/share.js","src/javascript/services/imageloader.js","src/javascript/controllers/home.js","src/javascript/controllers/collection.js"],"names":["angular","debug","init","$ionicPlatform","$cordovaDevice","$cordovaPush","$timeout","avoscloud","$cordovaDialogs","$ionicSlideBoxDelegate","$rootScope","$state","authPushService","device","callback","pushSignupError","err","log","alert","options","badge","sound","register","then","token","installation","deviceType","platform","toLowerCase","deviceToken","installationId","pushNotificationReceived","event","notification","collectionId","go","id","stateChangeSuccess","e","toState","toParams","fromState","name","isGoBackHome","isGoToCollection","isBackToCollection","gotoIndex","localStorage","lastSlideIndexHome","lastSlideIndexCollection","parseInt","slide","removeItem","$on","ready","getDevice","syncInstallationSuccess","result","syncError","installations","post","config","$httpProvider","$stateProvider","$urlRouterProvider","avoscloudProvider","API_TOKEN","API_TOKEN_KEY","appConfigs","defaults","useXDomain","headers","common","state","url","templateUrl","controller","otherwise","Error","module","constant","API_SERVER","run","window","ctrlerUI","$ionicLoading","$ionicPopup","this","loading","show","msg","otps","template","hide","obj","confirm","popup","service","store","$resource","TC_SERVER","self","tuchong","apiMap","hot","tuchongApiMap","extraMethods","method","update","put","cache","forEach","endpoint","key","save","k","value","findById","collections","item","postId","$ionicActionSheet","showPopup","image","buttonClicked","index","Wechat","title","thumbnail","description","site","excerpt","author","share","message","thumb","uri_grid","media","type","Type","WEBPAGE","webpageUrl","scene","sheet","buttons","push","text","titleText","cancelText","imageLoader","UI","loadCache","loadBackground","scope","loadDone","backgrounds","$apply","slidesReady","cacheKey","loadError","undefined","isNaN","images","uri","loadImage","onerror","img","Image","onload","src","load","home","Store","fetchFresh","success","data","length","setup","fail","get","fresh","lastIndex","inValid","copy","splice","updateSlides","imagesLength","isValidCollection","collection","$stateParams","$ionicSideMenuDelegate","toggle","side","viewLarge","single"],"mappings":"CAAC,SAAUA,EAASC,GAClB,YAyCA,SAASC,GAAKC,EAAgBC,EAAgBC,EAAcC,EAAUC,EAAWC,EAAiBC,EAAwBC,EAAYC,GAoCpI,QAASC,GAAgBC,EAAQC,GA4B/B,QAASC,GAAgBC,GACnBC,GAAKA,EAAID,GAEbR,EAAgBU,MAEdF,EACA,cACA,OAlCJ,GAAIG,IACFC,MAAQ,OACRC,MAAQ,OACRH,MAAQ,OAGVb,GACGiB,SAASH,GACTI,KAAK,SAASC,GACXP,GAAKA,EAAI,yCAA0CO,EAEvD,IAAIC,KAYJ,OAVAA,GAAaC,WAAab,EAAOc,SAC/Bd,EAAOc,SAASC,cAChB,MAE8B,QAA5BH,EAAaC,aACfD,EAAaI,YAAcL,GAEG,YAA5BC,EAAaC,aACfD,EAAaK,eAAiBN,GAEzBV,EAASW,IACfV,GAeL,QAASgB,GAAyBC,EAAOC,GACvC,MAAIA,GAAaC,iBACfvB,GAAOwB,GAAG,cACRC,GAAIH,EAAaC,mBAKrB1B,GAAgBU,MACde,EAAaf,MACb,OACA,OAKJ,QAASmB,GAAmBC,EAAGC,EAASC,EAAUC,GAC5CxB,GAAKA,EAAI,WAAYwB,EAAUC,MAAQ,OAAQH,EAAQG,KAE3D,IAAIC,GAAgC,SAAjBJ,EAAQG,MAAmBD,EAAUC,KACpDE,EAAsC,SAAnBH,EAAUC,MAAoC,eAAjBH,EAAQG,KACxDG,EAAwC,sBAAnBJ,EAAUC,MAAiD,eAAjBH,EAAQG,IAE3E,KAAKC,GAAiBC,GAAqBC,KACvCD,EAAJ,CAEA,GAAIE,GAAYH,EACdI,aAAaC,mBACbD,aAAaE,wBAEVH,KACHA,EAAY,GAEdA,EAAYI,SAASJ,GAEjB7B,GAAKA,EAAI,mBAAoB6B,GAGjCxC,EAAS,WACPG,EAAuB0C,MAAML,IAC5B,MAlHDC,aAAaC,oBACfD,aAAaK,WAAW,sBAI1B1C,EAAW2C,IAAI,sBAAuBhB,GAItC3B,EAAW2C,IAAI,2BAA4BtB,GAE3C5B,EAAemD,MAAM,WACnB,GAAIzC,GAAST,EAAemD,WACxBtC,IAAKA,EAAIJ,GAEbD,EAAgBC,EAAQ,SAASY,GAQ/B,QAAS+B,GAAwBC,GAC3BxC,GAAKA,EAAIwC,GAIf,QAASC,GAAU1C,GACbC,GAAKA,EAAID,GAbXC,GAAKA,EAAIQ,GAEblB,EACGoD,cACAC,KAAKnC,EAAc+B,EAAyBE,OAkGrD,QAASG,GAAOC,EAAeC,EAAgBC,EAAoBC,EAAmBC,EAAWC,GAE/FF,EAAkBJ,OAAOO,WAAW7D,WAGpCuD,EAAcO,SAASC,YAAa,QAC7BR,GAAcO,SAASE,QAAQC,OAAO,oBAC7CV,EAAcO,SAASE,QAAQC,OAAOL,GAAiB,uBAAyBD,EAGhFH,EACGU,MAAM,QACLC,IAAK,IACLC,YAAa,sBACbC,WAAY,SAEbH,MAAM,cACLC,IAAK,kBACLC,YAAa,4BACbC,WAAY,eAEbH,MAAM,qBACLC,IAAK,cACLC,YAAa,wBACbC,WAAY,sBAIhBZ,EAAmBa,UAAU,KA5L/B,GAAI5D,EAEJ,KAAKjB,EACH,KAAM,IAAI8E,OAAM,yBACd7E,KACFgB,EAAMhB,EAAM,sBAEdD,EACG+E,OAAO,iBACN,QACA,YACA,aACA,cAEDC,SAAS,YAAaZ,WAAWF,WACjCc,SAAS,aAAcZ,WAAWa,YAClCD,SAAS,gBAAiB,uBAC1BA,SAAS,YAAa,2BACtBnB,QACC,gBACA,iBACA,qBACA,oBACA,YACA,gBACAA,IAEDqB,KACC,iBACA,iBACA,eACA,WACA,YACA,kBACA,yBACA,aACA,SACAhF,KA0JHiF,OAAOnF,QAASmF,OAAOlF,OCjMzB,SAAUD,EAASC,GAClB,YAgBA,SAASmF,GAASC,EAAeC,GAC/BC,KAAKC,SACHC,KAAM,SAASC,GACb,GAAIC,KAEJ,OADAA,GAAKC,SAAWF,EACTL,EAAcI,KAAKE,IAE5BE,KAAM,WACJ,MAAOR,GAAcQ,SAGzBN,KAAKrE,MAAQ,SAAS4E,EAAKhF,GACzBwE,EAAYpE,MAAM4E,GAAKvE,KAAKT,IAE9ByE,KAAKQ,QAAU,SAASD,EAAKhF,GAC3BwE,EAAYS,QAAQD,GAAKvE,KAAKT,IAEhCyE,KAAKS,MAAQ,SAASF,EAAKhF,GACzBwE,EAAYG,KAAKK,GAAKvE,KAAKT,IAjC/B,GAAIG,EAEJ,KAAKjB,EACH,KAAM,IAAI8E,OAAM,yBACd7E,KACFgB,EAAMhB,EAAM,qBAEdD,EACG+E,OAAO,iBACPkB,QAAQ,MACP,gBACA,cACAb,KAyBHD,OAAOnF,QAASmF,OAAOlF,OCvCzB,SAAUD,EAASC,GAClB,YAkBA,SAASiG,GAAMC,EAAWlB,EAAYf,EAAWkC,GAC/C,GAAIC,GAAOd,IACXc,GAAKC,UACL,IAAIC,IACFC,IAAO,SACP5C,KAAQ,SAEN6C,GACF7C,KAAQ,4BAEN8C,GACF9C,MACE+C,OAAQ,QAEVC,QACED,OAAQ,OAEVE,KACEF,OAAQ,OAGZN,GAAKS,SAGL9G,EAAQ+G,QAAQR,EAAQ,SAASS,EAAUC,GACzCZ,EAAKY,GAAOd,EACVlB,EAAa+B,EAAU,KAAMN,KAGjC1G,EAAQ+G,QAAQN,EAAe,SAASO,EAAUC,GAChDZ,EAAKC,QAAQW,GAAOd,EAClBC,EAAYY,EAAU,KAAMN,KAIhCL,EAAKa,KAAO,SAASC,EAAGC,GACtBf,EAAKS,MAAMK,GAAKC,GAGlBf,EAAKgB,SAAW,SAASjF,GACvB,GAAIqB,GAAS,IAEb,OAAKrB,IAAOiE,EAAKS,MAAMQ,aAGvBtH,EAAQ+G,QAAQV,EAAKS,MAAMQ,YAAa,SAASC,GAC3CA,EAAKC,SAAWpF,IAClBqB,EAAS8D,KAGN9D,GAPEA,GA5Db,GAAIxC,EAEJ,KAAKjB,EACH,KAAM,IAAI8E,OAAM,yBACd7E,KACFgB,EAAMhB,EAAM,wBAEdD,EACG+E,OAAO,iBACPkB,QAAQ,SACP,YACA,aACA,YACA,YACAC,KAyDHf,OAAOnF,QAASmF,OAAOlF,OCzEzB,SAAUD,EAASC,GAClB,YAgBA,SAASmF,GAASC,EAAeoC,GAG/B,QAASC,GAAUC,EAAO/D,GAkBxB,QAASgE,GAAcC,GACrB,GAAK1C,OAAO2C,OAAZ,CAEA,GAAIC,GAAQnE,EAAKmE,MACbC,EAAYL,GAAS,KACrBM,EAAcrE,EAAKsE,MAAQtE,EAAKsE,KAAKD,YACvCrE,EAAKsE,KAAKD,YAAc,EAEtBD,IAAaA,EAAUG,UACzBJ,GAAU,MAAQC,EAAUG,SAC1BvE,GAAQA,EAAKwE,QAAUxE,EAAKwE,OAAO1F,OACrCqF,GAAU,KAAOnE,EAAKwE,OAAO1F,MAE/BuF,GAAe,oBAEfH,OAAOO,OACLC,SACCP,MAAOA,EACPE,YAAaA,EACbM,MAAOP,EAAYA,EAAUQ,SAAW,OAAQ,mEAChDC,OACEC,KAAMZ,OAAOa,KAAKC,QAClBC,WAAYjF,EAAKc,MAGrBoE,MAAOjB,GACL,WACG5G,GAAKA,EAAI,aACZ,SAASD,GACNC,GAAKA,EAAID,MA9CjB,GAAI+H,KAEJA,GAAMC,WACND,EAAMC,QAAQC,MACZC,KAAM,yCAENA,KAAM,kDAENA,KAAM,2CAGRH,EAAMI,UAAY,WAClBJ,EAAMK,WAAa,KACnBL,EAAMnB,cAAgBA,EAEtBH,EAAkBhC,KAAKsD,GAlBzBxD,KAAKS,MAAQ0B,EAhBf,GAAIzG,EAEJ,KAAKjB,EACH,KAAM,IAAI8E,OAAM,yBACd7E,KACFgB,EAAMhB,EAAM,wBAEdD,EACG+E,OAAO,iBACPkB,QAAQ,SACP,gBACA,oBACAb,KA2DHD,OAAOnF,QAASmF,OAAOlF,OCzEzB,SAAUD,EAASC,GAClB,YAgBA,SAASoJ,GAAYC,EAAIhJ,GAMvB,QAASiJ,GAAUb,GACjB,MAAKrC,GAAKS,MAAM4B,GAETrC,EAAKS,MAAM4B,MAIpB,QAASc,GAAe3B,EAAO4B,EAAOf,EAAMtG,GA+B1C,QAASsH,KACHzI,GAAKA,EAAI,mBAAoB0G,EAAQ,QAEzC8B,EAAME,YAAY9B,GAASF,EAC3B8B,EAAMG,SAEDH,EAAMI,cACTJ,EAAMI,aAAc,EAGtB,IAAIC,GAAoB,SAATpB,EAAkBA,EAAOtG,CACxCiE,GAAKS,MAAMgD,GAAYL,EAAME,YAE7BL,EAAG9D,QAAQK,OAGb,QAASkE,KACPT,EAAG9D,QACAC,KAAK,oBAhDV,GAAcuE,SAAVnC,GAAiC,OAAVA,IAAkBoC,MAAMpC,GAAnD,CAGA,GAAI4B,EAAME,YAAY9B,GAMpB,MALI5G,IACFA,EAAI,4BACDwI,EAAMI,cACTJ,EAAMI,aAAc,GAEfP,EAAG9D,QAAQK,MAGpB,KAAK4D,EAAMnC,cAAgBmC,EAAMS,OAM/B,MALAZ,GAAG9D,QACAC,KAAK,uBAERnF,GAASgJ,EAAG9D,QAAQK,KAAM,IAK5ByD,GAAG9D,QACAC,KAAK,8CAER,IAAIkC,GAAiB,SAATe,EACVe,EAAMnC,YAAYO,GAAOqC,OAAO,GAAGC,IACnCV,EAAMS,OAAOrC,GAAOsC,GAEtBC,GAAUzC,EAAO+B,EAAUK,IAwB7B,QAASK,GAAUD,EAAKrJ,EAAUuJ,GAChC,GAAIC,GAAM,GAAIC,MACdD,GAAIE,OAAS1J,EACbwJ,EAAID,QAAUA,EACdC,EAAIG,IAAMN,EAAM,OAChBG,EAAM,KAtER,GAAIjE,GAAOd,IACXA,MAAKmF,KAAOlB,EACZjE,KAAKgE,UAAYA,EACjBhE,KAAKuB,SAnBP,GAAI7F,EAEJ,KAAKjB,EACH,KAAM,IAAI8E,OAAM,yBACd7E,KACFgB,EAAMhB,EAAM,8BAEdD,EACG+E,OAAO,iBACPkB,QAAQ,eACP,KACA,WACAoD,KA8EHlE,OAAOnF,QAASmF,OAAOlF,OC5FzB,SAAUD,EAASC,EAAO8C,GACzB,YAwBA,SAAS4H,GAAKlB,EAAO9I,EAAQiK,EAAOtB,EAAI7I,EAAwBH,EAAUI,EAAY2I,EAAa7I,EAAiB6H,GAgBlH,QAASwC,GAAW/J,GAGlB,QAASgK,GAAQC,GACf,MAAKA,GAAKzD,aAGNrG,GACFA,EAAI,iCAAkC8J,EAAKzD,YAAY0D,QAGzDC,EAAMF,EAAKzD,aAAa,GAExBsD,EAAM1D,KAAK,cAAe6D,EAAKzD,kBAE3BxG,GACFA,MAXOwI,EAAG9D,QAAQC,KAAK,yDAc3B,QAASyF,KACP5B,EAAG9D,QACAC,KAAK,yDAEJ3E,GACFA,IAvBJ8J,EAAMpE,IAAI2E,OAAQL,EAASI,GA6B7B,QAASD,GAAM3D,EAAa8D,GAC1B,GAAIC,GAAYtI,EAAaC,mBACzBsI,GAAWD,GAAanI,SAASmI,IAAc,CAEnD5B,GAAMnC,YAAc8D,EAClBpL,EAAQuL,KAAKjE,GAAakE,OAAO,EAAG,GACpCxL,EAAQuL,KAAKjE,GAAakE,OAAO,EAAGF,EAAU,EAAIpI,SAASmI,GAAa,GAG1EhC,EAAYqB,KAAK,EAAGjB,EAAO,QAE3BhJ,EAAuBmG,SAIzB,QAAS6E,GAAa5D,GAChBoC,MAAMpC,KAAQA,EAAQ,GAEtB5G,GAAKA,EAAI,2BAA4B4G,GAGzCwB,EAAYqB,KAAK7C,EAAO4B,EAAO,SAG1BA,EAAMnC,YAAYO,EAAQ,IAAM+C,EAAM9D,MAAMQ,YAAYO,EAAQ,IACnE4B,EAAMnC,YAAY2B,KAAK2B,EAAM9D,MAAMQ,YAAYO,EAAQ,IAGzD9E,EAAaC,mBAAqB6E,EAE9B5G,GAAKA,EAAI,+BAAgC4G,GAE7CpH,EAAuBmG,SAIzB,QAASzE,GAAGC,EAAIsJ,GACd,GAAIC,GAAoBD,EAAe,CAEvC,OAAIC,GACKhL,EAAOwB,GAAG,cAAeC,GAAIA,KAEtCkH,EAAG9D,QACAC,KAAK,8DAERnF,GAASgJ,EAAG9D,QAAQK,KAAM,MAjF5B,MATA4D,GAAMtH,GAAKA,EACXsH,EAAMpB,MAAQA,EAAMrC,MACpByD,EAAMgC,aAAeA,EACrBhC,EAAME,YAAcN,EAAYE,UAAU,QAG1CD,EAAG9D,QAAQC,KAAK,gDAGZmF,EAAM9D,MAAMQ,YACP2D,EAAML,EAAM9D,MAAMQ,iBAE3BuD,KApCF,GAAI5J,EAEJ,KAAKjB,EACH,KAAM,IAAI8E,OAAM,yBACd7E,KACFgB,EAAMhB,EAAM,kCAEdD,EACG+E,OAAO,iBACPH,WAAW,QACV,SACA,SACA,QACA,KACA,yBACA,WACA,aACA,cACA,kBACA,QACA+F,KAkGHxF,OAAOnF,QAASmF,OAAOlF,MAAOkF,OAAOpC,cCxHvC,SAAU/C,EAASC,EAAO8C,GACzB,YAgCA,SAAS6I,GAAWnC,EAAOmB,EAAOtB,EAAI7I,EAAwBoL,EAAclL,EAAQ0I,EAAayC,EAAwBzD,EAAO/H,GAyB9H,QAAS2K,GAAMW,EAAYR,GACzB,GAAIC,GAAYtI,EAAaE,yBACzBqI,GAAWD,GAAanI,SAASmI,IAAc,CAEnD5B,GAAM7F,KAAOgI,EAAWhI,KAGxB6F,EAAMS,OAASkB,EACbpL,EAAQuL,KAAKK,EAAW1B,QAAQsB,OAAO,EAAG,GAC1CxL,EAAQuL,KAAKK,EAAW1B,QAAQsB,OAAO,EAAGF,EAAU,EAAIpI,SAASmI,GAAa,GAEhFhC,EAAYqB,KAAK,EAAGjB,EAAO,aAAcoC,EAAazJ,IAEtD3B,EAAuBmG,SAGzB,QAAS6E,GAAa5D,GAChB5G,GAAKA,EAAI,2BAA4B4G,GAEzCwB,EAAYqB,KAAK7C,EAAO4B,EAAO,aAAcoC,EAAazJ,IAC1DW,EAAaE,yBAA2B4E,EAEpC5G,GAAKA,EAAI,qCAAsC4G,IAE9C4B,EAAMS,OAAOrC,EAAQ,IAAM+D,EAAW1B,OAAOrC,EAAQ,IACxD4B,EAAMS,OAAOjB,KAAK2C,EAAW1B,OAAOrC,EAAQ,IAE9CpH,EAAuBmG,SAGzB,QAASmF,GAAOC,GACd,GAAIrF,GAAkB,UAATqF,EACX,cAAe,YACjBF,GAAuBnF,KAGzB,QAASsF,KACP,GAAIpE,GAAQ9E,EAAaE,yBACvBC,SAASH,EAAaE,0BAA4B,CAEpD,OAAKwG,GAAMS,QAAWT,EAAMS,OAAOrC,OASnClH,GAAOwB,GAAG,qBACRgI,IAAKV,EAAMS,OAAOrC,GAAOsC,OATzBb,EAAG9D,QACAC,KAAK,8DAERnF,GAASgJ,EAAG9D,QAAQK,KAAM,MApE9B4D,EAAMsC,OAASA,EACftC,EAAMpB,MAAQA,EAAMrC,MACpByD,EAAMwC,UAAYA,EAClBxC,EAAMgC,aAAeA,EACrBhC,EAAME,YAAcN,EAAYE,UAAUsC,EAAazJ,GAEvD,IAAIwJ,GAAahB,EAAMvD,SAASwE,EAAazJ,GAE7C,OAAKwJ,OAcLX,GAAMW,OAbJhB,GAAMhH,KAAKuH,KACT3D,OAAQqE,EAAazJ,IACpB,SAASqB,GACNxC,GAAKA,EAAIwC,GACbmI,EAAanI,EACbwH,EAAMxH,GAAQ,IACb,SAASzC,GACNC,GAAKA,EAAID,GACbL,EAAOwB,GAAG,UA8DhB,QAAS+J,GAAOzC,EAAOoC,EAAclL,EAAQH,GAU3C,QAASuB,GAAyBC,EAAOC,GACvC,MAAIA,GAAaC,iBACfvB,GAAOwB,GAAG,cACRC,GAAIH,EAAaC,mBAKrB1B,GAAgBU,MACde,EAAaf,MACb,OACA,OApBJ,MAAK2K,GAAa1B,KAGlBV,EAAMU,IAAM0B,EAAa1B,QAIzBV,GAAMpG,IAAI,2BAA4BtB,IAN7BpB,EAAOwB,GAAG,QAjHrB,GAAIlB,EAEJ,KAAKjB,EACH,KAAM,IAAI8E,OAAM,yBACd7E,KACFgB,EAAMhB,EAAM,wCAEdD,EACG+E,OAAO,iBACPH,WAAW,cACV,SACA,QACA,KACA,yBACA,eACA,SACA,cACA,yBACA,QACA,WACA,kBACAgH,IAEDhH,WAAW,qBACV,SACA,eACA,SACA,kBACAsH,KA6GH/G,OAAOnF,QAASmF,OAAOlF,MAAOkF,OAAOpC"}