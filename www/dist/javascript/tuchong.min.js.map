{"version":3,"file":"www/dist/javascript/tuchong.min.js","sources":["src/javascript/app.js","src/javascript/services/store.js","src/javascript/services/share.js","src/javascript/services/imageloader.js","src/javascript/controllers/home.js","src/javascript/controllers/collection.js"],"names":["window","init","$ionicPlatform","$cordovaDevice","$cordovaNetwork","$cordovaPush","$timeout","avoscloud","$cordovaDialogs","$ionicSlideBoxDelegate","$rootScope","$state","authPushService","device","callback","pushSignupError","err","alert","options","badge","sound","register","then","token","installation","deviceType","platform","toLowerCase","deviceToken","installationId","angular","forEach","item","pushNotificationReceived","event","notification","collectionId","go","id","stateChangeSuccess","e","toState","toParams","fromState","console","log","name","isGoBackHome","isGoToCollection","isBackToCollection","gotoIndex","localStorage","lastSlideIndexHome","lastSlideIndexCollection","parseInt","slide","removeItem","$on","ready","getDevice","newtork","getNetwork","syncInstallationSuccess","result","syncError","installations","post","config","$httpProvider","$stateProvider","$urlRouterProvider","avoscloudProvider","API_TOKEN","API_TOKEN_KEY","appConfigs","defaults","useXDomain","headers","common","state","url","templateUrl","controller","otherwise","module","constant","API_SERVER","run","this","store","$resource","TC_SERVER","self","tuchong","apiMap","hot","tuchongApiMap","extraMethods","method","update","put","cache","endpoint","key","save","k","value","findById","collections","postId","service","share","$ionicLoading","$ionicActionSheet","showPopup","image","buttonClicked","index","Wechat","title","thumbnail","description","site","excerpt","author","message","thumb","uri_grid","media","type","Type","WEBPAGE","webpageUrl","scene","sheet","titleText","cancelText","buttons","text","show","popup","imageLoader","load","uri","success","hide","img","blobURL","fail","template","proxy","realuri","replace","BlobImage","ismobile","element","onload","onerror","ImageLoader","navigator","userAgent","match","home","scope","Store","fetch","data","setup","get","slidesReady","loadImage","slides","Swiper","direction","backgrounds","images","localImage","$apply","openZoom","zoomImage","hideOnStateChange","hideZoom","fetchBackground","parentIndex","makeCssUri","str","collection","$stateParams","$ionicSideMenuDelegate","fresh","lastIndex","inValid","copy","splice","updateSlides","push","toggle","side","viewLarge","loadCache","single"],"mappings":"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"}